---
layout: 2023
title: çŠ¶æ€ç®¡ç†åº“
date: 2023-03-06 15:45:25
tags:
---

# ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†ï¼Ÿ

## çŠ¶æ€

çŠ¶æ€æ˜¯è¡¨ç¤ºç»„ä»¶å½“å‰çŠ¶å†µçš„ JS å¯¹è±¡ã€‚åœ¨ React ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ useState æˆ–è€… this.state ç»´æŠ¤ç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼Œé€šè¿‡ props ä¼ é€’ç»™å­ç»„ä»¶ä½¿ç”¨ã€‚

ä¸ºäº†é¿å…çŠ¶æ€ä¼ é€’è¿‡ç¨‹ä¸­å‡ºç°æ··ä¹±ï¼ŒReact å¼•å…¥äº†â€œå•å‘æ•°æ®æµâ€çš„ç†å¿µã€‚ä¸»è¦æ€æƒ³æ˜¯ç»„ä»¶ä¸ä¼šæ”¹å˜æ¥æ”¶çš„æ•°æ®ï¼Œåªä¼šç›‘å¬æ•°æ®çš„å˜åŒ–ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ä»–ä»¬ä¼šä½¿ç”¨æ¥æ”¶åˆ°çš„æ–°å€¼ï¼Œè€Œä¸æ˜¯ä¿®æ”¹å·²æœ‰çš„å€¼ã€‚å½“ç»„ä»¶çš„æ›´æ–°æœºåˆ¶è§¦å‘åï¼Œä»–ä»¬åªæ˜¯ä½¿ç”¨æ–°å€¼è¿›è¡Œé‡æ–°æ¸²æŸ“ã€‚

çˆ¶å­ç»„ä»¶é€šä¿¡å¯ä»¥ç›´æ¥ä½¿ç”¨ props å’Œå›è°ƒæ–¹å¼ï¼›æ·±å±‚æ¬¡ã€è¿œè·ç¦»ç»„ä»¶åˆ™è¦é€šè¿‡â€œçŠ¶æ€æå‡â€å’Œ props å±‚å±‚ä¼ é€’ã€‚

## å¸¸è§æ¨¡å¼

React çŠ¶æ€ç®¡ç†çš„å¸¸è§æ¨¡å¼æœ‰ï¼š

- çŠ¶æ€æå‡ï¼šå…„å¼Ÿç»„ä»¶é—´æ˜¯æ²¡æ³•ç›´æ¥å…±äº«çŠ¶æ€çš„ï¼Œå¯ä»¥é€šè¿‡å°†çŠ¶æ€æå‡åˆ°æœ€è¿‘çš„ç¥–å…ˆç»„ä»¶ä¸­ï¼Œæ‰€æœ‰å…„å¼Ÿç»„ä»¶å°±å¯ä»¥é€šè¿‡ props ä¸€çº§çº§ä¼ é€’è·å–çŠ¶æ€ï¼›
- çŠ¶æ€ç»„åˆï¼šæŸäº›çŠ¶æ€å¯èƒ½åªåœ¨åº”ç”¨ç¨‹åºçš„ç‰¹å®šå­æ ‘ä¸­éœ€è¦ã€‚æœ€å¥½å°†çŠ¶æ€å­˜å‚¨åœ¨å°½å¯èƒ½æ¥è¿‘å®é™…éœ€è¦çš„ä½ç½®ï¼Œè¿™æœ‰åŠ©äºä¼˜åŒ–æ¸²æŸ“è¡Œä¸ºï¼›
- å±æ€§ä¸‹é’»ï¼šå°†çˆ¶ç»„ä»¶çš„çŠ¶æ€ä»¥å±æ€§çš„å½¢å¼ä¸€çº§çº§æ˜¾ç¤ºä¼ é€’ç»™åµŒå¥—å­ç»„ä»¶ï¼›
- Providerï¼šReact Context é€šè¿‡ Provider åŒ…è£¹ç»„ä»¶ï¼Œè¢«åŒ…è£¹çš„æ‰€æœ‰åµŒå¥—å­ç»„ä»¶éƒ½å¯ä»¥ä¸ç”¨é€šè¿‡å±æ€§ä¸‹é’»è€Œæ˜¯é€šè¿‡ context ç›´æ¥è·å–çŠ¶æ€ã€‚

å±‚å±‚ä¼ é€’çš„ value onChange ä¼šå¯¹ä¸€ä¸ªä¼˜è´¨ä»£ç åº“å¸¦æ¥çš„æ¯ç­æ€§å½±å“ï¼Œç²—æš´åœ°æŠŠæ•°æ®å¡åœ¨ redux ä¸­ä¹Ÿå¹¶ä¸èƒ½è®©ä¸€ä¸ªåº”ç”¨å¾—åˆ°å¾ˆå¥½çš„æ‹“å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

## è¦è§£å†³çš„é—®é¢˜

çŠ¶æ€ç®¡ç†åº“è¦è§£å†³çš„é—®é¢˜ï¼š

1. ä»ç»„ä»¶æ ‘çš„ã€Œä»»ä½•åœ°æ–¹ã€è¯»å–å­˜å‚¨çš„çŠ¶æ€
2. å†™å…¥å­˜å‚¨çŠ¶æ€çš„èƒ½åŠ›
3. æä¾›ã€Œä¼˜åŒ–æ¸²æŸ“ã€çš„æœºåˆ¶
4. æä¾›ã€Œä¼˜åŒ–å†…å­˜ä½¿ç”¨ã€çš„æœºåˆ¶
5. ä¸ã€Œå¹¶å‘æ¨¡å¼çš„å…¼å®¹æ€§ã€
6. æ•°æ®çš„ã€ŒæŒä¹…åŒ–ã€
7. ã€Œä¸Šä¸‹æ–‡ä¸¢å¤±ã€é—®é¢˜
8. ã€Œpropså¤±æ•ˆã€é—®é¢˜
9. ã€Œå­¤å„¿ã€é—®é¢˜

## å¿ƒæ™ºæ¨¡å‹

çŠ¶æ€æ›´æ–°æœ‰ä¸¤ç§å¿ƒæ™ºæ¨¡å‹ï¼š

- ä¸å¯å˜çŠ¶æ€æ¨¡å‹
- å¯å˜çŠ¶æ€æ¨¡å‹

- ä¸»è¦å¥½å¤„æ˜¯å¯ä»¥ä½¿ç”¨åŸç”Ÿ JS æ–¹æ³•ï¼›
- åŸºäº Proxy çš„çŠ¶æ€ç®¡ç†çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯çŠ¶æ€ä¸å¯é¢„æµ‹ï¼Œéš¾ä»¥ debugã€‚

å› ä¸º React æ²¡æœ‰å®˜æ–¹çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼ŒReact ç”Ÿæ€ä¸­çŠ¶æ€ç®¡ç†åº“ï¼Œç™¾èŠ±é½æ”¾ï¼Œæ¼”è¿›å‡ºå¾ˆå¤šè®¾è®¡æ€æƒ³å’Œå¿ƒæ™ºæ¨¡å¼ã€‚å¦‚ä½•é€‰æ‹©çŠ¶æ€ç®¡ç†åº“å°±å˜å¾—ååˆ†ä»¤äººæŠ“ç‹‚ã€‚

# React Context 

åœ¨å¤šçº§åµŒå¥—ç»„ä»¶åœºæ™¯ä¸‹ï¼Œä½¿ç”¨â€œå±æ€§ä¸‹é’»â€æ–¹å¼è¿›è¡Œç»„ä»¶é€šä¿¡æ˜¯ä¸€ä»¶æˆæœ¬æé«˜çš„äº‹æƒ…ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒReact å®˜æ–¹æä¾› Context ç”¨äºé¿å…ä¸€çº§çº§å±æ€§ä¼ é€’ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9b0ae4f6b2bd4f7081170216163821f5~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

## Context çš„é—®é¢˜

Contextå­˜åœ¨çš„é—®é¢˜ä¹Ÿæ˜¯è€ç”Ÿå¸¸è°ˆã€‚åœ¨ react é‡Œï¼Œcontext æ˜¯ä¸ªåæ¨¡å¼çš„ä¸œè¥¿ï¼Œä¸åŒäº redux ç­‰çš„ç»†ç²’åº¦å“åº”å¼æ›´æ–°ï¼Œcontextçš„å€¼ä¸€æ—¦å˜åŒ–ï¼Œæ‰€æœ‰ä¾èµ–è¯¥contextçš„ç»„ä»¶å…¨éƒ¨éƒ½ä¼š force updateï¼Œå› ä¸º context API å¹¶ä¸èƒ½ç»†ç²’åº¦åœ°åˆ†ææŸä¸ªç»„ä»¶ä¾èµ–äº†context é‡Œçš„å“ªä¸ªå±æ€§ï¼Œå¹¶ä¸”å®ƒå¯ä»¥ç©¿é€ React.memo å’Œ shouldComponentUpdate çš„å¯¹æ¯”ï¼ŒæŠŠæ‰€æœ‰æ¶‰äº‹ç»„ä»¶å¼ºåˆ¶åˆ·æ–°ã€‚

Reactå®˜æ–¹æ–‡æ¡£åœ¨ [When to Use Context](https://link.juejin.cn/?target=https%3A%2F%2Freactjs.org%2Fdocs%2Fcontext.html%23when-to-use-context "https://link.juejin.cn?target=https%3A%2F%2Freactjs.org%2Fdocs%2Fcontext.html%23when-to-use-context")ä¸€èŠ‚ä¸­å†™é“ï¼š

Context è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯â€œå…¨å±€â€çš„æ•°æ®ï¼Œä¾‹å¦‚å½“å‰è®¤è¯çš„ç”¨æˆ·ã€ä¸»é¢˜æˆ–é¦–é€‰è¯­è¨€ã€‚

ç»¼ä¸Šï¼Œåœ¨ç³»ç»Ÿä¸­è·Ÿä¸šåŠ¡ç›¸å…³ã€ä¼šé¢‘ç¹å˜åŠ¨çš„æ•°æ®åœ¨å…±äº«æ—¶ï¼Œåº”è°¨æ…ä½¿ç”¨ contextã€‚

å¦‚æœå†³å®šä½¿ç”¨contextï¼Œå¯ä»¥åœ¨ä¸€äº›åœºæ™¯ä¸­ï¼Œå°†å¤šä¸ªå­ç»„ä»¶ä¾èµ–çš„ä¸åŒcontextå±æ€§æå‡åˆ°ä¸€ä¸ªçˆ¶ç»„ä»¶ä¸­ï¼Œç”±çˆ¶ç»„ä»¶è®¢é˜…contextå¹¶ä»¥propçš„æ–¹å¼ä¸‹å‘ï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨å­ç»„ä»¶çš„memoã€shouldComponentUpdateç”Ÿæ•ˆã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b329102b3d454d0887a53cd6b8f6d0af~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

æ­¤å¤–ï¼Œå®˜æ–¹æ–‡æ¡£è¿˜æåˆ°äº†[å¦å¤–ä¸€ä¸ªå‘](https://link.juejin.cn/?target=https%3A%2F%2Fzh-hans.reactjs.org%2Fdocs%2Fcontext.html%23caveats "https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.reactjs.org%2Fdocs%2Fcontext.html%23caveats")ï¼Œä½¿ç”¨çš„æ—¶å€™ä¹Ÿåº”è¯¥æ³¨æ„ã€‚

## ä¼˜ç‚¹

- ä½œä¸ºReactå†…ç½®çš„hookï¼Œä¸éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼›
- ä¹¦å†™è¿˜ç®—æ–¹ä¾¿ã€‚

## ç¼ºç‚¹

- Context åªèƒ½å­˜å‚¨å•ä¸€å€¼ï¼Œå½“æ•°æ®é‡å¤§èµ·æ¥æ—¶ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨createContextåˆ›å»ºå¤§é‡contextï¼›
- ç›´æ¥ä½¿ç”¨çš„è¯ï¼Œä¼šæœ‰ä¸€å®šçš„æ€§èƒ½é—®é¢˜ï¼šæ¯ä¸€æ¬¡å¯¹stateçš„æŸä¸ªå€¼å˜æ›´ï¼Œéƒ½ä¼šå¯¼è‡´å…¶ä»–ä½¿ç”¨è¯¥stateçš„ç»„ä»¶re-renderï¼Œå³ä½¿æ²¡æœ‰ä½¿ç”¨è¯¥å€¼ã€‚ ä½ å¯ä»¥é€šè¿‡useMemoæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å°±éœ€è¦ä¸€å®šçš„æˆæœ¬æ¥å®šåˆ¶ä¸€ä¸ªé€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼›
- æ— æ³•å¤„ç†å¼‚æ­¥è¯·æ±‚ã€‚å¯¹äºå¼‚æ­¥çš„é€»è¾‘ï¼ŒContext APIå¹¶æ²¡æœ‰æä¾›ä»»ä½•APIï¼Œéœ€è¦è‡ªå·±åšå°è£…ï¼›
- æ— æ³•å¤„ç†æ•°æ®é—´çš„è”åŠ¨ã€‚Context APIå¹¶æ²¡æœ‰æä¾›APIæ¥ç”Ÿæˆæ´¾ç”ŸçŠ¶æ€ï¼ŒåŒæ ·ä¹Ÿéœ€è¦è‡ªè¡Œå»å°è£…ä¸€äº›æ–¹æ³•æ¥å®ç°ã€‚

# React å¤–éƒ¨çŠ¶æ€ç®¡ç†åº“

## æ¦‚è§ˆ

React çš„å¤–éƒ¨çŠ¶æ€ç®¡ç†åº“ä¸€ç›´ä»¥æ¥æ˜¯ React ç”Ÿæ€ä¸­éå¸¸å†…å·çš„ä¸€ä¸ªé¢†åŸŸã€‚ç›®å‰æ¯”è¾ƒå¸¸è§çš„çŠ¶æ€ç®¡ç†åº“æœ‰ Reduxï¼ˆåŒ…æ‹¬åŸºäº Redux çš„ Dvaã€Icestoreï¼‰ã€Mobxã€Zustandã€Recoilã€Jotaiã€Valtioã€Hox ç­‰ã€‚

ä» npm trends çœ‹å„ä¸ªçŠ¶æ€ç®¡ç†åº“è¿‘ä¸€å¹´çš„[ä¸‹è½½é‡è¶‹åŠ¿](https://link.juejin.cn/?target=https%3A%2F%2Fnpmtrends.com%2Fhox-vs-jotai-vs-mobx-vs-recoil-vs-redux-vs-valtio-vs-zustand "https://npmtrends.com/hox-vs-jotai-vs-mobx-vs-recoil-vs-redux-vs-valtio-vs-zustand")ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5aad8931489b4118b0d61518a59c92b5~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

æˆ‘ä»¬å¯ä»¥çœ‹åˆ° Redux ä½œä¸º React çŠ¶æ€ç®¡ç†çš„è€å¤§å“¥ï¼Œä¸‹è½½é‡ä¸Šä¾ç„¶é¥é¥é¢†å…ˆå…¶ä»–åº“ã€‚Mobx ä½œä¸ºå¾€å¹´çƒ­åº¦ä»…æ¬¡äº Redux çš„çŠ¶æ€ç®¡ç†åº“ï¼Œä½ç½®æ­£é€æ­¥æœ‰è¢« zustand è¶…è¶Šçš„è¶‹åŠ¿ã€‚recoil/jotai/valtio ä½œä¸ºè¿™ä¸¤å¹´çƒ­é—¨çš„æ–°å…´åº“çƒ­åº¦ä¹Ÿåœ¨é€æ­¥ä¸Šå‡ã€‚hox åˆ™å¤„äºä¸æ¸©ä¸ç«çš„å°´å°¬åœ°ä½ã€‚

å°†ä»¥ä¸ŠçŠ¶æ€ç®¡ç†åº“æŒ‰å¿ƒæ™ºæ¨¡å‹ã€è¯ç”Ÿæ—¶é—´ã€star æ•°ï¼Œç»˜åˆ¶æ°”æ³¡å›¾ã€‚ä»¥ React v16.8 ç‰ˆæœ¬ä¸ºåˆ†æ°´å²­ï¼ŒçŠ¶æ€ç®¡ç†åº“å¯åˆ†ä¸º Class æ—¶ä»£å’Œ Hooks æ—¶ä»£ã€‚Class æ—¶ä»£ä¸­ Redux å’Œ Mobx éƒ½æ˜¯éå¸¸ä¼˜ç§€çš„çŠ¶æ€åº“ã€‚éšç€ Hooks æ—¶ä»£çš„åˆ°æ¥ï¼ŒçŠ¶æ€ç®¡ç†çš„å¿ƒæ™ºæ¨¡å‹ä¹Ÿé€æ­¥å‘ç”Ÿç€æ¼”å˜ã€‚æ•´ä½“å‘ˆç°ä»ä¸­å¿ƒåŒ–åˆ°å»ä¸­å¿ƒåŒ–ï¼Œä»å•ä¸€çŠ¶æ€åˆ°åŸå­çŠ¶æ€ï¼Œä» Provider åˆ°æ‹¥æŠ± Hooks ç­‰æ¼”å˜è¶‹åŠ¿ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/713f854973f8446690a68342aed0e05a~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

ä¸‹é¢ï¼Œæˆ‘ä»¬å¯¹ä¸Šè¿°çŠ¶æ€ç®¡ç†åº“è¿›è¡Œé€ä¸€å¯¹æ¯”ä»‹ç»ã€‚

## Class æ—¶ä»£

### [Redux](https://link.juejin.cn/?target=https%3A%2F%2Fcn.redux.js.org%2Fintroduction%2Fgetting-started "https://cn.redux.js.org/introduction/getting-started")

Redux çš„çµæ„Ÿæ¥æºäº Flux æ¶æ„å’Œå‡½æ•°å¼ç¼–ç¨‹åŸç†ï¼ŒçŠ¶æ€æ›´æ–°å¯é¢„æµ‹ã€å¯è·Ÿè¸ªï¼Œæå€¡ä½¿ç”¨ã€Œå•ä¸€å­˜å‚¨ã€ã€‚è¿™é€šå¸¸ä¼šã€Œå¯¼è‡´å°†æ‰€æœ‰çš„ä¸œè¥¿å­˜å‚¨åœ¨ä¸€ä¸ªå¤§çš„å•ä½“å­˜å‚¨ä¸­ã€ã€‚å°†UIå’Œè¿œç¨‹å®ä½“çŠ¶æ€ä¹‹é—´çš„æ‰€æœ‰ä¸œè¥¿éƒ½æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹ç®¡ç†ï¼Œè¿™å˜å¾—éå¸¸éš¾ä»¥ç®¡ç†ã€‚å¯¹æ€§èƒ½é€ æˆäº†ä¸å°çš„å‹åŠ›ã€‚

#### å•å‘æ•°æ®æµ

ä»–çš„å·¥ä½œæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š

- ç”¨æˆ·åœ¨viewå±‚è§¦å‘æŸä¸ªäº‹ä»¶ï¼Œé€šè¿‡dispatchå‘é€äº†actionå’Œpayload
- actionå’Œpayloadè¢«ä¼ å…¥reducerå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„state
- storeæ‹¿åˆ°reducerè¿”å›çš„stateå¹¶åšæ›´æ–°ï¼ŒåŒæ—¶é€šçŸ¥viewå±‚è¿›è¡Œre-render

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b3237134ee24c03998f4715ebc6fad2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

ç”±æ­¤å¯çœ‹å‡º Redux éµå¾ªâ€œå•å‘æ•°æ®æµâ€å’Œâ€œä¸å¯å˜çŠ¶æ€æ¨¡å‹â€çš„è®¾è®¡æ€æƒ³ã€‚è¿™ä½¿å¾— Redux çš„çŠ¶æ€å˜åŒ–æ˜¯å¯é¢„æµ‹ã€å¯è°ƒå¼çš„ã€‚

#### ä¸‰å¤§åŸåˆ™

æ­¤å¤–ï¼ŒRedux è¿˜éµå¾ªä¸‰å¤§åŸåˆ™ï¼š

- å•ä¸€æ•°æ®æº

æ•´ä¸ªåº”ç”¨çš„ [å…¨å±€ state](https://link.juejin.cn/?target=https%3A%2F%2Fcn.redux.js.org%2Funderstanding%2Fthinking-in-redux%2Fglossary%23state "https://cn.redux.js.org/understanding/thinking-in-redux/glossary#state")è¢«å‚¨å­˜åœ¨ä¸€æ£µ object tree ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ª object tree åªå­˜åœ¨äºå”¯ä¸€ä¸€ä¸ª [store](https://link.juejin.cn/?target=https%3A%2F%2Fcn.redux.js.org%2Funderstanding%2Fthinking-in-redux%2Fglossary%23store "https://cn.redux.js.org/understanding/thinking-in-redux/glossary#store")ä¸­ã€‚

- state æ˜¯åªè¯»çš„

å”¯ä¸€æ”¹å˜ state çš„æ–¹æ³•å°±æ˜¯è§¦å‘ [action](https://link.juejin.cn/?target=https%3A%2F%2Fcn.redux.js.org%2Funderstanding%2Fthinking-in-redux%2Fglossary "https://cn.redux.js.org/understanding/thinking-in-redux/glossary")ï¼Œaction æ˜¯ä¸€ä¸ªç”¨äºæè¿°å·²å‘ç”Ÿäº‹ä»¶çš„æ™®é€šå¯¹è±¡ã€‚

- çº¯å‡½æ•°ä¿®æ”¹

é€šè¿‡ reducer ä¿®æ”¹çŠ¶æ€ï¼Œreducer æ˜¯çº¯å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¹‹å‰çš„ state å’Œ actionï¼Œå¹¶è¿”å›æ–°çš„ stateã€‚è®°ä½ï¼Œä¸€å®šè¦è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¿®æ”¹ä¹‹å‰çš„ stateã€‚

#### å¦‚ä½•å¤„ç†å¼‚æ­¥

reduxæ²¡æœ‰è§„å®šå¦‚ä½•å¤„ç†å¼‚æ­¥æ•°æ®æµï¼Œæœ€åŸå§‹çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨Action Creatorsï¼Œä¹Ÿå°±æ˜¯åœ¨åˆ¶é€ actionä¹‹å‰è¿›è¡Œå„ç§çš„å¼‚æ­¥æ“ä½œï¼Œä½ å¯ä»¥æŠŠè¦å¤ç”¨çš„æ“ä½œæŠ½ç¦»å‡ºæ¥ã€‚

å½“ç„¶è¿™æ ·å¹¶ä¸ä¼˜é›…ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ç±»ä¼¼redux-thunkã€redux-sagaè¿™äº›ä¸­é—´ä»¶æ¥æ”¯æŒå¤„ç†å¼‚æ­¥ã€‚

#### å¦‚ä½•å¤„ç†æ•°æ®é—´è”åŠ¨

react-reduxçš„useSelectorè·å–çŠ¶æ€åï¼Œä½ å¯ä»¥ç¼–å†™ä¸€äº›é€»è¾‘æ¥å¤„ç†æ´¾ç”ŸçŠ¶æ€ã€‚å¦‚æœæ´¾ç”ŸçŠ¶æ€éœ€è¦å¤ç”¨ï¼Œè®°å¾—ç»™æŠ½ç¦»å‡ºæ¥ã€‚

#### ä¼˜ç‚¹

- ç¹è£çš„ç¤¾åŒºï¼Œåƒä¸æ”¯æŒå¼‚æ­¥è¿™ç§é—®é¢˜æ˜¯ç”±æˆç†Ÿçš„ä¸­é—´ä»¶å¯ä»¥è§£å†³çš„ï¼Œä½ é‡åˆ°çš„é—®é¢˜å¤šå¤šå°‘å°‘å¯ä»¥åœ¨ç¤¾åŒºæ‰¾åˆ°ç­”æ¡ˆ;
- å¯æ‰©å±•æ€§é«˜ï¼Œä¸­é—´ä»¶æ¨¡å¼è®©ä½ å¯ä»¥éšå¿ƒæ‰€æ¬²çš„æ­¦è£…ä½ çš„dispatch;
- å•ä¸€æ•°æ®æºä¸”æ˜¯æ ‘å½¢ç»“æ„ï¼Œè¿™è®©reduxæ”¯æŒå›æº¯ï¼Œåœ¨è°ƒè¯•ä¸Šä¹Ÿæ›´æ–¹ä¾¿;
- æœ‰æˆç†Ÿçš„å¼€å‘è°ƒè¯•å·¥å…· [redux devtools](https://link.juejin.cn/?target=https%3A%2F%2Fchrome.google.com%2Fwebstore%2Fdetail%2Fredux-devtools%2Flmhkpmbekcpmknklioeibfkpmmfibljd "https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd")ã€‚

#### ç¼ºç‚¹

- é™¡å³­çš„å­¦ä¹ æ›²çº¿ã€‚å°†å‰¯ä½œç”¨æ‰”ç»™ä¸­é—´ä»¶æ¥å¤„ç†ï¼Œå¯¼è‡´ç¤¾åŒºä¸€å †ä¸­é—´ä»¶ï¼Œå­¦ä¹ æˆæœ¬é™¡ç„¶å¢åŠ ã€‚æ¯”å¦‚å¤„ç†å¼‚æ­¥è¯·æ±‚çš„ Redux-sagaã€è®¡ç®—è¡ç”ŸçŠ¶æ€çš„ reselectï¼›
- å¤§é‡çš„æ¨¡ç‰ˆä»£ç ã€‚ä½¿ç”¨ reduxï¼Œå¼€å‘è€…è¦ç¼–å†™å¤§é‡å’Œä¸šåŠ¡é€»è¾‘æ— å…³çš„æ¨¡æ¿ä»£ç ï¼Œè¿™ç»™å¼€å‘å’ŒåæœŸç»´æŠ¤éƒ½å¸¦æ¥äº†é¢å¤–çš„æˆæœ¬ï¼›
- å¤§çŠ¶æ€é‡æƒ…å†µä¸‹ï¼Œæ€§èƒ½è¾ƒå·®ã€‚state æ›´æ–°ä¼šå½±å“æ‰€æœ‰ç»„ä»¶ã€‚æ¯ä¸ª action éƒ½ä¼šè°ƒç”¨æ‰€æœ‰ reducerï¼›
- reducer è¦è¿”å›æ–°çš„å¯¹è±¡ï¼Œå¦‚æœæ›´æ–°çš„å€¼å±‚çº§è¾ƒæ·±ï¼Œæ›´æ–°æˆæœ¬ä¹Ÿå¾ˆé«˜ï¼›
- æ›´å¤šçš„å†…å­˜å ç”¨ï¼Œç”±äºé‡‡ç”¨å•ä¸€æ•°æ®æºï¼Œæ‰€æœ‰çŠ¶æ€å­˜å‚¨åœ¨ä¸€ä¸ª state ä¸­ï¼Œå½“æŸäº›çŠ¶æ€ä¸å†éœ€è¦ä½¿ç”¨æ—¶ï¼Œä¹Ÿä¸ä¼šè¢«åƒåœ¾å›æ”¶é‡Šæ”¾å†…å­˜ï¼›

å½“ç„¶ï¼Œredux ä¹Ÿåœ¨è‡´åŠ›äºè§£å†³ä¸Šè¿°ç¼ºç‚¹ã€‚æ¯”å¦‚ï¼Œ[redux toolkit](https://link.juejin.cn/?target=https%3A%2F%2Fcn.redux.js.org%2Fintroduction%2Fwhy-rtk-is-redux-today "https://cn.redux.js.org/introduction/why-rtk-is-redux-today")å°±æ—¨åœ¨è®©å¼€å‘è€…ä½¿ç”¨æ ‡å‡†æ–¹å¼ç¼–å†™ redux é€»è¾‘ã€‚ä¸»è¦è§£å†³ redux çš„ 3 ä¸ªé—®é¢˜ï¼š

- é…ç½® redux store è¿‡äºéº»çƒ¦ï¼›
- å¿…é¡»æ‰‹åŠ¨é¢å¤–æ·»åŠ å¾ˆå¤šåŒ…æ‰èƒ½æ­£å¸¸ä½¿ç”¨ reduxï¼›
- redux éœ€è¦å¤ªå¤šæ¨¡æ¿ä»£ç ã€‚

ä¸è¿‡ï¼Œå³ä½¿æœ‰ redux toolkit çš„åŠ æŒï¼Œredux çš„å­¦ä¹ æˆæœ¬ä¾æ—§ä¸ä½ã€‚

### [Dva](https://link.juejin.cn/?target=https%3A%2F%2Fdvajs.com%2F "https://dvajs.com/")

dva é¦–å…ˆæ˜¯ä¸€ä¸ªåŸºäº [redux](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Freduxjs%2Fredux "https://github.com/reduxjs/redux")å’Œ [redux-saga](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fredux-saga%2Fredux-saga "https://github.com/redux-saga/redux-saga")çš„æ•°æ®æµæ–¹æ¡ˆï¼Œç„¶åä¸ºäº†ç®€åŒ–å¼€å‘ä½“éªŒï¼Œdva è¿˜é¢å¤–å†…ç½®äº† [react-router](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FReactTraining%2Freact-router "https://github.com/ReactTraining/react-router")å’Œ [fetch](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fgithub%2Ffetch "https://github.com/github/fetch")ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè½»é‡çº§çš„åº”ç”¨æ¡†æ¶ã€‚

Dva çš„ç‰¹ç‚¹ï¼š

- æ˜“å­¦æ˜“ç”¨ï¼Œä»…æœ‰ 6 ä¸ª apiï¼Œå¯¹ redux ç”¨æˆ·å°¤å…¶å‹å¥½ï¼Œ[é…åˆ umi ä½¿ç”¨](https://link.juejin.cn/?target=https%3A%2F%2Fumijs.org%2Fguide%2Fwith-dva.html "https://umijs.org/guide/with-dva.html")åæ›´æ˜¯é™ä½ä¸º 0 API
- elm æ¦‚å¿µï¼Œé€šè¿‡ reducers, effects å’Œ subscriptions ç»„ç»‡ model
- æ’ä»¶æœºåˆ¶ï¼Œæ¯”å¦‚ [dva-loading](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fdvajs%2Fdva%2Ftree%2Fmaster%2Fpackages%2Fdva-loading "https://github.com/dvajs/dva/tree/master/packages/dva-loading")å¯ä»¥è‡ªåŠ¨å¤„ç† loading çŠ¶æ€ï¼Œä¸ç”¨ä¸€ééåœ°å†™ showLoading å’Œ hideLoading
- æ”¯æŒ HMRï¼ŒåŸºäº [babel-plugin-dva-hmr](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fdvajs%2Fbabel-plugin-dva-hmr "https://github.com/dvajs/babel-plugin-dva-hmr")å®ç° componentsã€routes å’Œ models çš„ HMR

Dva å¤§å¹…é™ä½äº† Redux çš„ä¸Šæ‰‹æˆæœ¬ï¼Œè¿‡å»ä¹Ÿåœ¨ç¤¾åŒºæ‹¥æœ‰äº†æ‹¥è¶¸ï¼Œgithub star æ•° 16.1kã€‚ä¸è¿‡ï¼Œä» 2019.11 å¼€å§‹å°±æ²¡æœ‰æ–°çš„ç‰ˆæœ¬å‘å¸ƒï¼Œçœ‹èµ·æ¥å·²ç»å¤„äºä¸ç»´æŠ¤çŠ¶æ€ã€‚

### [icestore](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fice-lab%2Ficestore "https://github.com/ice-lab/icestore")

icestore æ˜¯ [IceJs](https://link.juejin.cn/?target=https%3A%2F%2Fice3.alibaba-inc.com%2Fv3%2Fdocs%2Fguide%2Fadvanced%2Fstore "https://ice3.alibaba-inc.com/v3/docs/guide/advanced/store")å†…ç½®çŠ¶æ€ç®¡ç†åº“ã€‚icestore æ˜¯é¢å‘ React åº”ç”¨çš„ã€ç®€å•å‹å¥½çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆã€‚

å®ƒåŒ…å«ä»¥ä¸‹æ ¸å¿ƒç‰¹å¾ï¼š

- ç®€å•ã€ç†Ÿæ‚‰çš„ APIï¼šä¸éœ€è¦é¢å¤–çš„å­¦ä¹ æˆæœ¬ï¼Œåªéœ€è¦äº†è§£ React Hooksï¼Œå¯¹ Redux ç”¨æˆ·å‹å¥½ã€‚
- é›†æˆå¼‚æ­¥å¤„ç†ï¼šè®°å½•å¼‚æ­¥æ“ä½œæ—¶çš„æ‰§è¡ŒçŠ¶æ€ï¼Œç®€åŒ–è§†å›¾ä¸­å¯¹äºç­‰å¾…æˆ–é”™è¯¯çš„å¤„ç†é€»è¾‘ã€‚
- æ”¯æŒç»„ä»¶ Class å†™æ³•ï¼šå‹å¥½çš„å…¼å®¹ç­–ç•¥å¯ä»¥è®©è€é¡¹ç›®äº«å—è½»é‡çŠ¶æ€ç®¡ç†çš„ä¹è¶£ã€‚
- è‰¯å¥½çš„ TypeScript æ”¯æŒï¼šæä¾›å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰ï¼Œåœ¨ VS Code ä¸­èƒ½è·å¾—å®Œæ•´çš„ç±»å‹æ£€æŸ¥å’Œæ¨æ–­ã€‚

icestore çš„çµæ„Ÿæ¥è‡ªäº [rematch](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Frematch%2Frematch "https://github.com/rematch/rematch")å’Œ [constate](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fdiegohaz%2Fconstate "https://github.com/diegohaz/constate")ã€‚æ•´ä½“å®ç°å’Œ rematch åŸºæœ¬ä¸€è‡´ã€‚rematch æ˜¯ä¸€ä¸ªæ²¡æœ‰æ¨¡æ¿ä»£ç çš„ redux æœ€ä½³å®è·µã€‚icestore æ•´ä½“é…ç½®ç®€å•ï¼Œè§£å†³äº† redux å­¦ä¹ æˆæœ¬é«˜ã€å¤§é‡æ¨¡æ¿ä»£ç ç­‰é—®é¢˜ï¼ŒåŒæ—¶åˆå¾ˆå¥½çš„æ”¯æŒäº†å¼‚æ­¥å¤„ç†ã€TypeScript å’Œ SSRã€‚

IceJS è‡ªå·±ç»™å‡ºçš„èƒ½åŠ›å¯¹ç…§è¡¨ï¼š

- O: æ”¯æŒ
- X: ä¸æ”¯æŒ
- +: éœ€è¦é¢å¤–åœ°è¿›è¡Œèƒ½åŠ›æ‰©å±•

| åŠŸèƒ½/åº“           | redux | constate | zustand | react-tracked | icestore |
| ----------------- | ----- | -------- | ------- | ------------- | -------- |
| æ¡†æ¶              | Any   | React    | React   | React         | React    |
| ç®€å•æ€§            | â˜…â˜…    | â˜…â˜…â˜…â˜…     | â˜…â˜…â˜…     | â˜…â˜…â˜…           | â˜…â˜…â˜…â˜…     |
| æ›´å°‘çš„æ¨¡æ¿ä»£ç     | â˜…     | â˜…â˜…       | â˜…â˜…â˜…     | â˜…â˜…â˜…           | â˜…â˜…â˜…â˜…     |
| å¯é…ç½®æ€§          | â˜…â˜…    | â˜…â˜…â˜…      | â˜…â˜…â˜…     | â˜…â˜…â˜…           | â˜…â˜…â˜…â˜…â˜…    |
| å…±äº«çŠ¶æ€          | O     | O        | O       | O             | O        |
| å¤ç”¨çŠ¶æ€          | O     | O        | O       | O             | O        |
| çŠ¶æ€è”åŠ¨          | +     | +        | +       | +             | O        |
| Class ç»„ä»¶æ”¯æŒ    | O     | +        | +       | +             | O        |
| Function ç»„ä»¶æ”¯æŒ | O     | O        | O       | O             | O        |
| å¼‚æ­¥æ›´æ–°çš„çŠ¶æ€    | +     | X        | X       | X             | O        |
| SSR               | O     | O        | X       | O             | O        |
| æŒä¹…åŒ–            | +     | X        | X       | X             | +        |
| æ‡’åŠ è½½æ¨¡å‹        | +     | +        | +       | +             | O        |
| ä¸­å¿ƒåŒ–            | +     | X        | X       | X             | O        |
| ä¸­é—´ä»¶æˆ–æ’ä»¶æœºåˆ¶  | O     | X        | O       | X             | O        |
| å¼€å‘è€…å·¥å…·        | O     | X        | O       | X             | O        |

## [Mobx](https://link.juejin.cn/?target=https%3A%2F%2Fzh.mobx.js.org%2Freact-integration.html "https://zh.mobx.js.org/react-integration.html")

### è®¾è®¡æ€æƒ³

MobX çš„ä¸»è¦æ€æƒ³æ˜¯ç”¨ã€Œå‡½æ•°å“åº”å¼ç¼–ç¨‹ã€å’Œã€Œå¯å˜çŠ¶æ€æ¨¡å‹ã€ä½¿å¾—çŠ¶æ€ç®¡ç†å˜å¾—ç®€å•å’Œå¯æ‰©å±•ã€‚

MobXèƒŒåçš„å“²å­¦å¾ˆç®€å•:

ä»»ä½•æºè‡ªåº”ç”¨çŠ¶æ€çš„ä¸œè¥¿éƒ½åº”è¯¥è‡ªåŠ¨åœ°è·å¾—ã€‚å…¶ä¸­åŒ…æ‹¬UIã€æ•°æ®åºåˆ—åŒ–ã€æœåŠ¡å™¨é€šè®¯ï¼Œç­‰ç­‰ã€‚

React å’Œ MobX æ˜¯ä¸€å¯¹å¼ºåŠ›ç»„åˆã€‚React é€šè¿‡æä¾›æœºåˆ¶æŠŠåº”ç”¨çŠ¶æ€è½¬æ¢ä¸ºå¯æ¸²æŸ“ç»„ä»¶æ ‘å¹¶å¯¹å…¶è¿›è¡Œæ¸²æŸ“ã€‚è€ŒMobXæä¾›æœºåˆ¶æ¥å­˜å‚¨å’Œæ›´æ–°åº”ç”¨çŠ¶æ€ä¾› React ä½¿ç”¨ã€‚

å¯¹äºåº”ç”¨å¼€å‘ä¸­çš„å¸¸è§é—®é¢˜ï¼ŒReact å’Œ MobX éƒ½æä¾›äº†æœ€ä¼˜å’Œç‹¬ç‰¹çš„è§£å†³æ–¹æ¡ˆã€‚React æä¾›äº†ä¼˜åŒ–UIæ¸²æŸ“çš„æœºåˆ¶ï¼Œ è¿™ç§æœºåˆ¶å°±æ˜¯é€šè¿‡ä½¿ç”¨è™šæ‹ŸDOMæ¥å‡å°‘æ˜‚è´µçš„DOMå˜åŒ–çš„æ•°é‡ã€‚MobX æä¾›äº†ä¼˜åŒ–åº”ç”¨çŠ¶æ€ä¸ React ç»„ä»¶åŒæ­¥çš„æœºåˆ¶ï¼Œè¿™ç§æœºåˆ¶å°±æ˜¯ä½¿ç”¨å“åº”å¼è™šæ‹Ÿä¾èµ–çŠ¶æ€å›¾è¡¨ï¼Œå®ƒåªæœ‰åœ¨çœŸæ­£éœ€è¦çš„æ—¶å€™æ‰æ›´æ–°å¹¶ä¸”æ°¸è¿œä¿æŒæ˜¯æœ€æ–°çš„ã€‚

### å¿ƒæ™ºæ¨¡å‹

Mobxçš„å¿ƒæ™ºæ¨¡å‹å’Œreactå¾ˆåƒï¼Œå®ƒåŒºåˆ†äº†åº”ç”¨ç¨‹åºçš„ä¸‰ä¸ªæ¦‚å¿µï¼š

- State(çŠ¶æ€)
- Actions(åŠ¨ä½œ)
- Derivations(æ´¾ç”Ÿ)

é¦–å…ˆåˆ›å»ºå¯è§‚å¯Ÿçš„çŠ¶æ€ï¼ˆObservable Stateï¼‰ï¼Œé€šè¿‡Actionæ›´æ–°Stateï¼Œç„¶åè‡ªåŠ¨æ›´æ–°æ‰€æœ‰çš„æ´¾ç”Ÿï¼ˆDerivationsï¼‰ã€‚æ´¾ç”ŸåŒ…æ‹¬Computed valueï¼ˆç±»ä¼¼useMemoæˆ–useSelectorï¼‰ã€å‰¯ä½œç”¨å‡½æ•°(ç±»ä¼¼useEffect)å’ŒUIï¼ˆrenderï¼‰ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b08330a8937b4a37914f75ab85615a5f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

Mobxè™½ç„¶å¿ƒæ™ºæ¨¡å‹åƒ reactï¼Œä½†æ˜¯å®ç°å´æ˜¯å®Œå®Œå…¨å…¨çš„ vueï¼šmutable + proxyï¼ˆä¸ºäº†å…¼å®¹æ€§ï¼Œproxyå®é™…ä¸Šä½¿ç”¨Object.definePropertyå®ç°ï¼‰ã€‚

ä½¿ç”¨åreactçš„æ•°æ®æµæ¨¡å¼ï¼Œæ³¨å®šä¼šæœ‰æˆæœ¬ï¼š

- Mobxçš„å“åº”å¼è„±ç¦»äº†reactè‡ªèº«çš„ç”Ÿå‘½å‘¨æœŸï¼Œå°±ä¸å¾—ä¸æ˜¾å¼å£°æ˜å…¶æ´¾ç”Ÿçš„ä½œç”¨æ—¶æœºå’ŒèŒƒå›´ã€‚æ¯”å¦‚å‰¯ä½œç”¨è§¦å‘éœ€è¦åœ¨useEffecté‡Œå†è·‘ä¸€ä¸ªautorun/reactionï¼Œè¦ç»™DOM renderåŒ…ä¸€å±‚useObserver/Observerï¼Œéƒ½åŠ å¤§äº†å¼€å‘æˆæœ¬ã€‚
- Mobxä¼šåœ¨ç»„ä»¶æŒ‚è½½æ—¶æ”¶é›†ä¾èµ–ï¼Œå’Œstateå»ºç«‹è”ç³»ï¼Œè¿™ä¸ªæ–¹å¼åœ¨å³å°†åˆ°æ¥çš„react 18çš„å¹¶å‘æ¨¡å¼ï¼ˆConcurrent Modeï¼‰ä¸­ï¼Œå¯èƒ½æ— æ³•å¹³æ»‘åœ°è¿ç§»ã€‚ä¸ºæ­¤ï¼Œreactä¸“é—¨å¼€å‘äº†[create-subscription](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Ffacebook%2Freact%2Ftree%2Fmain%2Fpackages%2Fcreate-subscription "https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebook%2Freact%2Ftree%2Fmain%2Fpackages%2Fcreate-subscription")æ–¹æ³•ç”¨äºåœ¨ç»„ä»¶ä¸­è®¢é˜…å¤–éƒ¨æºï¼Œä½†æ˜¯å®é™…çš„åº”ç”¨æ•ˆæœè¿˜æœªå¯çŸ¥ã€‚

å°¤å¤§æœ¬äººä¹Ÿç›–è¿‡ç« ï¼šReact + MobX æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ›´ç¹ççš„Vueã€‚

### Mobx vs Redux

Mobxå’ŒReduxçš„å¯¹æ¯”ï¼Œå®é™…ä¸Šå¯ä»¥å½’ç»“ä¸º é¢å‘å¯¹è±¡ vs å‡½æ•°å¼å’Œ Mutable vs Immutableã€‚

- ç›¸æ¯”äºreduxçš„å¹¿æ’­éå†dispatchï¼Œç„¶åéå†åˆ¤æ–­å¼•ç”¨æ¥å†³å®šç»„ä»¶æ˜¯å¦æ›´æ–°ï¼ŒmobxåŸºäºproxyå¯ä»¥ç²¾ç¡®æ”¶é›†ä¾èµ–ã€å±€éƒ¨æ›´æ–°ç»„ä»¶ï¼ˆç±»ä¼¼vueï¼‰ï¼Œç†è®ºä¸Šä¼šæœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œä½†reduxè®¤ä¸ºè¿™å¯èƒ½ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ï¼ˆ[Won't calling â€œall my reducersâ€ for each action be slow?](https://link.juejin.cn/?target=https%3A%2F%2Fredux.js.org%2Ffaq%2Fperformance%23wont-calling-all-my-reducers-for-each-action-be-slow "https://link.juejin.cn?target=https%3A%2F%2Fredux.js.org%2Ffaq%2Fperformance%23wont-calling-all-my-reducers-for-each-action-be-slow")ï¼‰
- Mobxå› ä¸ºæ•°æ®åªæœ‰ä¸€ä»½å¼•ç”¨ï¼Œæ²¡æœ‰å›æº¯èƒ½åŠ›ï¼Œä¸åƒreduxæ¯æ¬¡æ›´æ–°éƒ½ç›¸å½“äºæ‰“äº†ä¸€ä¸ªå¿«ç…§ï¼Œè°ƒè¯•æ—¶æ­é…[redux-logger](https://link.juejin.cn/?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fredux-logger "https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fredux-logger")è¿™æ ·çš„ä¸­é—´ä»¶ï¼Œå¯ä»¥å¾ˆç›´è§‚åœ°çœ‹åˆ°æ•°æ®æµå˜åŒ–å†å²ã€‚
- Mobxçš„å­¦ä¹ æˆæœ¬æ›´ä½ï¼Œæ²¡æœ‰å…¨å®¶æ¡¶ã€‚
- Mobxåœ¨æ›´æ–°stateä¸­æ·±å±‚åµŒå¥—å±æ€§æ—¶æ›´æ–¹ä¾¿ï¼Œç›´æ¥èµ‹å€¼å°±å¥½äº†ï¼Œreduxåˆ™éœ€è¦æ›´æ–°æ‰€æœ‰é€”ç»å±‚çº§çš„å¼•ç”¨ï¼ˆå½“ç„¶æ­é…[immer](https://link.juejin.cn/?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fimmer "https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fimmer")ä¹Ÿä¸éº»çƒ¦ï¼‰ã€‚

## ä¼˜ç‚¹

- ç®€å•æ˜“ç”¨ï¼Œæ²¡æœ‰æ¨¡æ¿ä»£ç ï¼›
- ç²¾å‡†æ›´æ–°ï¼Œæ€§èƒ½æ›´å¥½ï¼›

## ç¼ºç‚¹

- éš¾ä»¥è°ƒè¯•ã€‚ç”±äºé‡‡ç”¨å¯å˜çŠ¶æ€æ¨¡å‹ï¼ŒçŠ¶æ€ä¸å¯é¢„æµ‹å’Œè¿½æº¯ï¼Œéš¾ä»¥ debugï¼›
- å¤ªè¿‡çµæ´»ï¼Œæ›´å®¹æ˜“å¯¼è‡´ bugï¼›

- å“åº”å¼æ˜¯åŸºäº Proxy å®ç°çš„ï¼Œå¸Œæœ›ä¼ é€’çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‹¿åˆ°çš„å´æ˜¯ä¸€ä¸ª Proxyã€‚æ’æŸ¥é—®é¢˜æ—¶æœ‰ç‚¹ç—›è‹¦ã€‚

# Hooks æ—¶ä»£

Hooks  æ˜¯ React 16.8 æ–°å¢çš„ç‰¹æ€§ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ state ä»¥åŠå…¶ä»– React ç‰¹æ€§ã€‚

Hooks çš„å¼•å…¥ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ React Class ç»„ä»¶çš„ä»¥ä¸‹é—®é¢˜ï¼š

- åœ¨ç»„ä»¶ä¹‹é—´å¤ç”¨çŠ¶æ€é€»è¾‘å¾ˆéš¾

Class ç»„ä»¶ä¼šå°†è§†å›¾å’ŒçŠ¶æ€é€»è¾‘ç³…æ‚åœ¨ä¸€èµ·ï¼Œå¦‚æœæƒ³å¤ç”¨ç»„ä»¶ä¸­çš„çŠ¶æ€é€»è¾‘ï¼Œéœ€è¦ä½¿ç”¨ render props å’Œé«˜é˜¶ç»„ä»¶ï¼Œä½†æ˜¯è¿™ç±»æ–¹æ¡ˆéœ€è¦é‡æ–°ç»„ç»‡ç»„ä»¶ç»“æ„ï¼Œä¼šå½¢æˆç»„ä»¶çš„åµŒå¥—åœ°ç‹±ï¼Œä»£ç é€»è¾‘ä¹Ÿä¼šå˜å¾—éš¾ä»¥ç†è§£ã€‚

- å¤æ‚ç»„ä»¶çš„ç†è§£æˆæœ¬å¾ˆé«˜

Class ç»„ä»¶çš„çŠ¶æ€é€»è¾‘ä¼šå……æ–¥åœ¨å„ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå®Œå…¨ä¸ç›¸å…³çš„ä»£ç å‡ºç°åœ¨åŒä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­ï¼Œé€»è¾‘éš¾ä»¥ç†è§£ï¼Œå®¹æ˜“å¼•å‘ bugï¼Œä¸”åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œå¾ˆéš¾å°†ç»„ä»¶æ‹†åˆ†æˆæ›´å°çš„ç²’åº¦ã€‚

Hooks æ˜¯ä¸€ç§å¼€å‘ç†å¿µå’Œç»„ç»‡ç†å¿µçš„é©æ–°ï¼Œæœ‰ 3 ä¸ªç‰¹æ€§ï¼š

- primitiveã€‚å…ƒæ•°æ®åŒ–ï¼Œå°†æ··æ²Œçš„ state æ‰“æ•£ä¸ºä¸€ä¸ªä¸ªå…ƒæ•°æ®ï¼›
- decentralizationã€‚å»ä¸­å¿ƒåŒ–ï¼ŒClass æ—¶ä»£çš„ç†å¿µæ˜¯â€œé¡¶å±‚ä¸‹å‘â€ï¼ŒHooks å¸¦æ¥äº†å¼ºçƒˆçš„â€œç»„ä»¶è‡ªæ²»â€ç†å¿µï¼›
- algebraic effectsã€‚ä»£æ•°æ•ˆåº”ï¼Œå‰¥ç¦»ç»„ä»¶ä¸­çš„å‰¯ä½œç”¨ï¼Œè®©å¼€å‘è€…æ›´ä¸“æ³¨ä¸šåŠ¡é€»è¾‘ã€‚

ä»£æ•°æ•ˆåº”æ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œç”¨äºå°†å‰¯ä½œç”¨ä»å‡½æ•°è°ƒç”¨ä¸­åˆ†ç¦»ã€‚

## è‡ªä¸‹è€Œä¸Šæ¨¡å¼çš„å´›èµ·

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»¥å‰çš„çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œå¦‚Reduxï¼Œè®¾è®¡ç†å¿µæ˜¯çŠ¶æ€ ã€Œè‡ªä¸Šè€Œä¸‹ã€æµåŠ¨ã€‚å®ƒã€Œå€¾å‘äºåœ¨ç»„ä»¶æ ‘çš„é¡¶ç«¯å¸èµ°æ‰€æœ‰çš„çŠ¶æ€ã€ã€‚çŠ¶æ€è¢«ç»´æŠ¤åœ¨ç»„ä»¶æ ‘çš„é«˜å¤„ï¼Œä¸‹é¢çš„ç»„ä»¶é€šè¿‡é€‰æ‹©å™¨æ‹‰å–ä»–ä»¬éœ€è¦çš„çŠ¶æ€ã€‚

åœ¨æ–°çš„ç»„ä»¶æ„å»ºç†å¿µä¸­ï¼Œä¸€ç§ã€Œè‡ªä¸‹è€Œä¸Šã€çš„è§‚ç‚¹å¯¹æ„å»ºå…·æœ‰ç»„åˆæ¨¡å¼çš„åº”ç”¨å…·æœ‰å¾ˆå¥½çš„æŒ‡å¯¼ä½œç”¨ã€‚

è€Œhookå°±æ˜¯è¿™ç§ç†å¿µçš„è·µè¡Œè€…ï¼Œå³æŠŠå¯ç»„åˆçš„éƒ¨ä»¶æ”¾åœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªæ›´å¤§çš„æ•´ä½“ã€‚

é€šè¿‡ hookï¼Œæˆ‘ä»¬å¯ä»¥ä»å…·æœ‰å·¨å¤§å…¨å±€å­˜å‚¨çš„ã€Œå•ä½“çŠ¶æ€ç®¡ç†ã€è½¬å˜ä¸ºå‘è‡ªä¸‹è€Œä¸Šçš„ ã€Œå¾®çŠ¶æ€ç®¡ç†ã€ï¼Œé€šè¿‡hookæ¶ˆè´¹æ›´å°çš„çŠ¶æ€ç‰‡ã€‚

åƒæ¥ä¸‹æ¥è¦ä»‹ç»çš„ Recoil å’Œ Jotai è¿™æ ·çš„æµè¡Œåº“ä»¥å…¶ ã€ŒåŸå­çŠ¶æ€ã€çš„æ¦‚å¿µä½“ç°äº†è¿™ç§è‡ªä¸‹è€Œä¸Šçš„ç†å¿µã€‚ã€ŒåŸå­æ˜¯ä¸€ä¸ªæœ€å°ä½†å®Œæ•´çš„çŠ¶æ€å•ä½ã€ã€‚å®ƒä»¬æ˜¯å°å—çš„çŠ¶æ€ï¼Œå¯ä»¥è¿æ¥åœ¨ä¸€èµ·å½¢æˆæ–°çš„è¡ç”ŸçŠ¶æ€ã€‚æœ€ç»ˆå½¢æˆäº†ä¸€ä¸ªåº”ç”¨çŠ¶æ€å›¾ã€‚

è¿™ä¸ªæ¨¡å‹å…è®¸ä½ è‡ªä¸‹è€Œä¸Šåœ°å»ºç«‹èµ·ã€ŒçŠ¶æ€å›¾ã€ã€‚å¹¶é€šè¿‡ä»…ä½¿å›¾ä¸­å·²æ›´æ–°çš„åŸå­å¤±æ•ˆæ¥ä¼˜åŒ–æ¸²æŸ“ã€‚

è¿™ä¸æ‹¥æœ‰ä¸€ä¸ªå¤§çš„å•ä½“çŠ¶æ€çƒå½¢æˆé²œæ˜å¯¹æ¯”ï¼Œä½ å¯ä»¥ã€Œè®¢é˜…å¹¶è¯•å›¾é¿å…ä¸å¿…è¦çš„æ¸²æŸ“ã€ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬è¦ä»‹ç» 5 ä¸ª Hooks æ—¶ä»£çš„çŠ¶æ€åº“ï¼Œåˆ†åˆ«æ˜¯ recoilã€zustandã€jotaiã€valtioã€hoxã€‚æ¯”è¾ƒæœ‰è¶£çš„æ˜¯å…¶ä¸­ 3 ä¸ªéƒ½æ˜¯ [Daishi Kato](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fdai-shi "https://github.com/dai-shi")å¼€å‘çš„ï¼Œé‡‡ç”¨äº†ä¸åŒçš„è®¾è®¡æ€æƒ³ï¼Œä½†æ˜¯éƒ½åœ¨çŸ­æœŸå†…å–å¾—ä¸é”™çš„ç¤¾åŒºçƒ­åº¦ï¼Œè¿™ 3 ä¸ªåº“åˆ†åˆ«æ˜¯ zustandã€jotaiã€valtioï¼Œè¿™ä¸‰ä¸ªè¯å…¶å®æ˜¯â€œçŠ¶æ€â€åœ¨ 3 ç§è¯­è¨€ä¸­çš„ä¸åŒå‘éŸ³ã€‚

zustand ğŸ‡©ğŸ‡ª å¾·è¯­ "çŠ¶æ€"ï¼Œjotai ğŸ‡¯ğŸ‡µ æ—¥è¯­ "çŠ¶æ€"ã€valtio ğŸ‡«ğŸ‡® èŠ¬å…°è¯­ "çŠ¶æ€"ã€‚

## [Recoil](https://link.juejin.cn/?target=https%3A%2F%2Frecoiljs.org%2Fzh-hans%2F "https://recoiljs.org/zh-hans/")

### ç®€ä»‹

[Recoil](https://link.juejin.cn/?target=https%3A%2F%2Frecoiljs.org%2Fzh-hans%2F "https://recoiljs.org/zh-hans/") æ˜¯åœ¨React Europe 2020 Conferenceä¸Š facebook å®˜æ–¹æ¨å‡ºçš„ä¸“ä¸º react æ‰“é€ çš„çŠ¶æ€ç®¡ç†åº“ï¼ŒåŠ¨æœºæ˜¯è§£å†³react çŠ¶æ€å…±äº«æ¨¡å¼çš„å±€é™æ€§ï¼š

- ä»¥å¾€åªèƒ½å°†stateæå‡åˆ°å…¬å…±ç¥–å…ˆæ¥å®ç°çŠ¶æ€å…±äº«ï¼Œå¹¶ä¸”ä¸€æ—¦è¿™ä¹ˆåšäº†ï¼ŒåŸºæœ¬å°±æ— æ³•å°†ç»„ä»¶æ ‘çš„é¡¶å±‚ï¼ˆstate å¿…é¡»å­˜åœ¨çš„åœ°æ–¹ï¼‰ä¸å¶å­ç»„ä»¶ (ä½¿ç”¨ state çš„åœ°æ–¹) è¿›è¡Œä»£ç åˆ†å‰²
- Context åªèƒ½å­˜å‚¨å•ä¸€å€¼ï¼Œæ— æ³•å­˜å‚¨å¤šä¸ªå„è‡ªæ‹¥æœ‰æ¶ˆè´¹è€…çš„å€¼çš„é›†åˆ

### è®¾è®¡æ€æƒ³

Recoilçš„çŠ¶æ€é›†æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ (directed graph)ï¼Œæ­£äº¤ä¸”å¤©ç„¶è¿ç»“äºReactç»„ä»¶æ ‘ã€‚çŠ¶æ€çš„å˜åŒ–ä»è¯¥å›¾çš„é¡¶ç‚¹ï¼ˆatomï¼‰å¼€å§‹ï¼Œæµç»çº¯å‡½æ•° (selector) å†ä¼ å…¥ç»„ä»¶ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f76308b8c1f14e398ecbf316639a9b53~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

Recoil å®šä¹‰äº†ä¸€ä¸ªæœ‰å‘å›¾ (directed graph)ï¼Œæ­£äº¤åŒæ—¶åˆå¤©ç„¶è¿ç»“äºä½ çš„ React æ ‘ä¸Šã€‚çŠ¶æ€çš„å˜åŒ–ä»è¯¥å›¾çš„é¡¶ç‚¹ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸º atomï¼‰å¼€å§‹ï¼Œæµç»çº¯å‡½æ•° (æˆ‘ä»¬ç§°ä¹‹ä¸º selector) å†ä¼ å…¥ç»„ä»¶ã€‚åŸºäºè¿™æ ·çš„å®ç°ï¼š

- æˆ‘ä»¬å¯ä»¥å®šä¹‰æ— éœ€æ¨¡æ¿ä»£ç çš„ APIï¼Œå…±äº«çš„çŠ¶æ€æ‹¥æœ‰ä¸ React æœ¬åœ° state ä¸€æ ·ç®€å•çš„ get/set æ¥å£ (å½“ç„¶å¦‚æœéœ€è¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ reducer ç­‰è¿›è¡Œå°è£…)ï¼›
- æˆ‘ä»¬æœ‰äº†ä¸ Concurrent æ¨¡å¼åŠå…¶ä»– React æ–°ç‰¹æ€§å…¼å®¹çš„å¯èƒ½æ€§ï¼›
- çŠ¶æ€çš„å®šä¹‰æ˜¯æ¸è¿›å¼å’Œåˆ†å¸ƒå¼çš„ï¼Œè¿™ä½¿ä»£ç åˆ†å‰²æˆä¸ºå¯èƒ½ï¼›
- æ— éœ€ä¿®æ”¹å¯¹åº”çš„ç»„ä»¶ï¼Œå°±èƒ½å°†å®ƒä»¬æœ¬åœ°çš„ state ç”¨æ´¾ç”Ÿæ•°æ®æ›¿æ¢ï¼›
- æ— éœ€ä¿®æ”¹å¯¹åº”çš„ç»„ä»¶ï¼Œå°±èƒ½å°†æ´¾ç”Ÿæ•°æ®åœ¨åŒæ­¥ä¸å¼‚æ­¥é—´åˆ‡æ¢ï¼›
- æˆ‘ä»¬èƒ½å°†å¯¼èˆªè§†ä¸ºå¤´ç­‰æ¦‚å¿µï¼Œç”šè‡³å¯ä»¥å°†çŠ¶æ€çš„è½¬å˜ç¼–ç è¿›é“¾æ¥ä¸­ï¼›
- å¯ä»¥å¾ˆè½»æ¾åœ°ä»¥å¯å›æº¯çš„æ–¹å¼æŒä¹…åŒ–æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€ï¼ŒæŒä¹…åŒ–çš„çŠ¶æ€ä¸ä¼šå› ä¸ºåº”ç”¨çš„æ”¹å˜è€Œä¸¢å¤±ã€‚

æ­£äº¤ï¼šç›¸äº’ç‹¬ç«‹ï¼Œç›¸äº’é—´ä¸å¯æ›¿ä»£ï¼Œå¹¶ä¸”å¯ä»¥ç»„åˆèµ·æ¥å®ç°å…¶å®ƒåŠŸèƒ½

Recoilæ¯ä¸€æ¬¡çŠ¶æ€å˜æ›´éƒ½ä¼šç”Ÿæˆä¸€ä¸ªä¸å¯å˜çš„å¿«ç…§ï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå¯ä»¥å¿«é€Ÿå®ç°åº”ç”¨å¯¼èˆªç›¸å…³çš„åŠŸèƒ½ï¼Œä¾‹å¦‚çŠ¶æ€å›æº¯ã€è·³è½¬ç­‰ã€‚

### æ ¸å¿ƒæ–¹æ³•

Recoilä¸­å®šä¹‰çŠ¶æ€çš„ä¸¤ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼š

- atom: å®šä¹‰åŸå­çŠ¶æ€ï¼Œå³ç»„ä»¶çš„æŸä¸ªçŠ¶æ€æœ€å°é›†ï¼Œ
- selector: å®šä¹‰æ´¾ç”ŸçŠ¶æ€ï¼Œå…¶å®å°±æ˜¯computed value

æ¶ˆè´¹çŠ¶æ€çš„æ–¹æ³•æœ‰ useRecoilStateã€useRecoilValueã€useSetRecoilState ç­‰ï¼Œç”¨æ³•å’Œ react çš„ useState ç±»ä¼¼ï¼Œå‡ ä¹æ²¡æœ‰ä¸Šæ‰‹æˆæœ¬ã€‚å¦å¤–å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œrecoilç›®å‰åªæ”¯æŒFCçš„hookç”¨æ³•ï¼ŒClassç»„ä»¶æƒ³ç”¨çš„è¯å¯ä»¥é€šè¿‡HOCçš„æ–¹å¼è·å–çŠ¶æ€å¹¶æ³¨å…¥ç»„ä»¶ã€‚

### ä¼˜ç‚¹

- çŠ¶æ€åŸå­åŒ–ï¼ˆatomï¼‰ï¼Œè‡ªç”±ç»„åˆå’Œè®¢é˜…ï¼›å¹¶ä¸”çŠ¶æ€å®šä¹‰æ˜¯æ¸è¿›å¼å’Œåˆ†å¸ƒå¼çš„ï¼Œä½¿ä»£ç åˆ†å‰²æˆä¸ºå¯èƒ½ï¼›
- æ²¡æœ‰æ¨¡æ¿ä»£ç ï¼Œå¤©ç„¶æ˜¯ hook æ¨¡å¼ï¼Œè®© react å°½é‡ä¿æŒåŸæ¥çš„æ ·å­ï¼›
- å…¼å®¹å¹¶å‘æ¨¡å¼ï¼ˆConcurrent Modeï¼‰ï¼›
- æä¾›å¯¹çŠ¶æ€æµçš„å¿«ç…§ï¼ˆsnapshotï¼‰æ”¯æŒï¼Œå¯ä»¥è½»æ¾å›æº¯åº”ç”¨çŠ¶æ€ï¼Œç”šè‡³å°†snopshotç¼–ç æ”¾è¿›urlï¼Œè®©ä»»ä½•äººæ‰“å¼€åº”ç”¨éƒ½èƒ½è¿›å…¥åˆ°åŒæ ·çš„çŠ¶æ€ï¼›

### èƒ½åŠ›å¯¹ç…§è¡¨

| æ–¹æ¡ˆ   | å­¦ä¹ æˆæœ¬ | ç¼–ç æˆæœ¬ | TSå‹å¥½ | SSR      | Code Split | å¹¶å‘æ¨¡å¼å…¼å®¹ | å¯è°ƒè¯•æ€§ | ç”Ÿæ€ç¹è£ |
| ------ | -------- | -------- | ------ | -------- | ---------- | ------------ | -------- | -------- |
| Redux  | é«˜       | é«˜       | ä¸€èˆ¬   | æ”¯æŒ     | ä¸æ”¯æŒ     | æ”¯æŒ         | å¥½       | é«˜       |
| Mobx   | ä¸­       | ä¸­       | å¥½     | æ”¯æŒ     | æ”¯æŒ       | æœªçŸ¥         | å·®       | ä¸­       |
| Recoil | ä½       | ä½       | å¥½     | å®è·µè¾ƒå°‘ | æ”¯æŒ       | æ”¯æŒ         | å¥½       | ä½       |

## [Zustand](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fpmndrs%2Fzustand "https://github.com/pmndrs/zustand")

### ç®€ä»‹

zustand æ˜¯ä¸€ä¸ªè½»é‡çº§çŠ¶æ€ç®¡ç†åº“ï¼Œå’Œ redux ä¸€æ ·éƒ½æ˜¯åŸºäºä¸å¯å˜çŠ¶æ€æ¨¡å‹å’Œå•å‘æ•°æ®æµçš„ï¼ŒçŠ¶æ€å¯¹è±¡ state ä¸å¯è¢«ä¿®æ”¹ï¼Œåªèƒ½è¢«æ›¿æ¢ã€‚æ¸²æŸ“ä¼˜åŒ–è¦æ‰‹åŠ¨é€šè¿‡ selectors è¿›è¡Œã€‚

### Zustand vs Redux

- zustand å’Œ redux æ˜¯éå¸¸åƒçš„ï¼Œéƒ½åŸºäºä¸å¯å˜çŠ¶æ€æ¨¡å‹ï¼Œéƒ½åŸºäºå•å‘æ•°æ®æµã€‚
- ä¸è¿‡ï¼Œredux éœ€è¦åº”ç”¨è¢« Context Provider åŒ…è£¹ï¼Œzustand åˆ™ä¸éœ€è¦ã€‚
- äºŒè€…æ›´æ–°æ•°æ®çš„æ–¹å¼ä¸åŒï¼Œredux åŸºäº reducersï¼Œæ›´æ–°çŠ¶æ€çš„ reducers æ˜¯ä¸¥æ ¼çš„æ–¹æ³•ï¼Œè¿™å°±ä½¿å¾—çŠ¶æ€æ›´åŠ å¯é¢„æµ‹ã€‚zustand ä¸ä½¿ç”¨ reducers è€Œæ˜¯é€šè¿‡æ›´çµæ´»çš„æ–¹æ³•æ¥æ›´æ–°çŠ¶æ€ã€‚

### ç‰¹ç‚¹

zustand çš„ç‰¹ç‚¹ï¼š

- è½»é‡çº§ï¼›
- ä¸­å¿ƒåŒ–ï¼Œå•ä¸€ storeï¼›
- ä¸å¯å˜çŠ¶æ€æ¨¡å‹ï¼›
- ä¸å›ºæ‰§ã€‚å¾ˆå°‘é™åˆ¶ï¼Œéå¸¸å¼€æ”¾ã€‚

## [Jotai](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fpmndrs%2Fjotai "https://github.com/pmndrs/jotai")

### ç®€ä»‹

jotai æ˜¯ä¸€ä¸ªå°å‹å…¨å±€çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒæ¨¡ä»¿äº† useStateã€useReducerã€‚jotai æœ‰ä¸ªå«åš atom çš„æ¦‚å¿µï¼Œç”¨äºè¡¨ç¤ºå°çš„çŠ¶æ€ç‰‡æ®µã€‚å’Œ zustand ä¸åŒçš„æ˜¯ï¼Œä»–æ˜¯ä¸€ä¸ªç»„ä»¶çº§åˆ«çš„çŠ¶æ€ç®¡ç†åº“ã€‚å’Œ zustand ç›¸åŒçš„æ˜¯åŒæ ·éƒ½åŸºäºä¸å¯å˜çŠ¶æ€æ¨¡å‹ã€‚

jotai æ˜¯ Context å’Œè®¢é˜…æœºåˆ¶çš„ç»“åˆï¼Œæ˜¯é¢å‘ React çš„ä¸€ç§å…¨å±€çŠ¶æ€ç®¡ç†åº“ã€‚å¦‚æœä½ çš„éœ€æ±‚æ˜¯ä¸€ä¸ªæ²¡æœ‰é¢å¤–é‡å¤æ¸²æŸ“çš„ Contextï¼Œé‚£ jotai æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚

### ç‰¹ç‚¹

jotai æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š

- è¯­æ³•ç®€å•
- jotai çš„çŠ¶æ€ä¸æ˜¯å…¨å±€çŠ¶æ€

atom å¯ä»¥åœ¨ React ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé‡Œåˆ›å»ºå’Œé”€æ¯ã€‚è¿™é€šè¿‡å¤šä¸ª Context æ˜¯æ— æ³•å®ç°çš„ï¼Œå› ä¸ºä½¿ç”¨ Context å¢åŠ ä¸€ä¸ªæ–°çš„ state æ„å‘³ç€å¢åŠ ä¸€ä¸ªæ–°çš„ Provider ç»„ä»¶ï¼Œå¦‚æœæ–°å¢ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒæ‰€æœ‰çš„å­ç»„ä»¶éƒ½ä¼šè¢«é‡æ–°æŒ‚è½½ï¼Œä¼šå¤±å»æ‰€æœ‰çŠ¶æ€ã€‚

- è¡ç”Ÿ atom

atom å¯ä»¥åƒç§¯æœ¨ä¸€æ ·è¢«ç»„åˆï¼Œç”Ÿæˆæ–°çš„ atomï¼Œä»è€Œå®ç°å¤æ‚é€»è¾‘ã€‚

jotai é€šè¿‡ atom ä¹‹é—´çš„ä¾èµ–æ¥å®ç°è‡ªåŠ¨æ¸²æŸ“ä¼˜åŒ–ã€‚

æ¨èåœºæ™¯ï¼šç»„ä»¶ä¸ºä¸­å¿ƒçš„åº”ç”¨ã€‚

### Recoil vs Jotai

jotai æ·±å— recoil å¯å‘ï¼Œè®¾è®¡ç†å¿µåŸºæœ¬ç›¸åŒã€‚ä½†æœ‰ä»¥ä¸‹ä¸åŒï¼š

- æœ€å¤§çš„ä¸åŒæ˜¯æ˜¯å¦éœ€è¦é”®å­—ç¬¦ä¸²ï¼Œå¼€å‘ jotai çš„ä¸€å¤§åŠ¨åŠ›å°±æ˜¯è¦çœç•¥é”®å­—ç¬¦ä¸²ã€‚å› ä¸ºé”®å±æ€§å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œé”®å‘½åæ˜¯ä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ï¼›
- å¦ä¸€ä¸ªä¸åŒæ˜¯ jotai ä¸éœ€è¦ä½¿ç”¨ Provider åŒ…è£¹ç»„ä»¶ï¼Œè¿™å¯¹å¼€å‘è€…æ¥è¯´å¯ä»¥å¤§å¹…é™ä½å¼€å‘æˆæœ¬å’Œå¿ƒç†è´Ÿæ‹…ã€‚

### Zustand vs Jotai

Zustand å’Œ Jotai ä¹‹é—´æœ‰ä¸¤ä¸ªä¸»è¦ä¸åŒï¼š

- Zustand æ˜¯å•ä¸€ storeï¼ŒJotai ç”±åŸå­ atom ç»„åˆè€Œæˆï¼›
- Zustand çš„ store å­˜å‚¨åœ¨ React å¤–éƒ¨ï¼ŒJotai çš„ store å­˜å‚¨åœ¨ React å†…éƒ¨ã€‚

## [Valtio](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fpmndrs%2Fvaltio "https://github.com/pmndrs/valtio")

### ç®€ä»‹

åŸºäºå¯å˜çŠ¶æ€æ¨¡å‹ï¼Œåˆ©ç”¨ Proxy è·å–ä¸€ä¸ªå’Œ React é›†æˆåœ¨ä¸€èµ·çš„ä¸å¯å˜å¿«ç…§ã€‚

åˆ©ç”¨ Proxy è‡ªåŠ¨è¿›è¡Œé‡æ–°æ¸²æŸ“ä¼˜åŒ–ï¼Œè¿™ä¸ªè¿‡ç¨‹ä½¿ç”¨äº†çŠ¶æ€ä½¿ç”¨è·Ÿè¸ªæŠ€æœ¯ã€‚é€šè¿‡çŠ¶æ€ä½¿ç”¨è·Ÿè¸ªï¼Œå¯ä»¥æ£€æµ‹åˆ°çŠ¶æ€çš„å“ªéƒ¨åˆ†è¢«ä½¿ç”¨ï¼Œè®©ç»„ä»¶å®ç°æŒ‰ä½¿ç”¨é‡æ–°æ¸²æŸ“ã€‚åŒæ—¶ï¼Œå¼€å‘è€…ä¹Ÿå¯ä»¥ç¼–å†™æ›´å°‘çš„ä»£ç ã€‚

### Valtio vs Zustand

zustand åŸºäºä¸å¯å˜çŠ¶æ€æ¨¡å‹ï¼Œvaltio åŸºäºå¯å˜çŠ¶æ€æ¨¡å‹ã€‚

valtio é€šè¿‡å±æ€§è®¿é—®è‡ªåŠ¨è¿›è¡Œæ¸²æŸ“ä¼˜åŒ–ï¼Œzustand æ¨èä½¿ç”¨ selectors æ‰‹åŠ¨è¿›è¡Œæ¸²æŸ“ä¼˜åŒ–ã€‚

### Valtio vs Mobx

æ¸²æŸ“ä¼˜åŒ–ä¸Šï¼Œvaltio ä½¿ç”¨ hookï¼Œmobx ä½¿ç”¨é«˜é˜¶ç»„ä»¶ã€‚

## [Hox](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fumijs%2Fhox "https://github.com/umijs/hox")

### ä»çŠ¶æ€ç®¡ç†åˆ°çŠ¶æ€å…±äº«

reduxã€zustandã€recoil è¿™äº›çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒä»¬è™½ç„¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¹Ÿå¯ä»¥å¸®æˆ‘ä»¬è§£å†³æ•°æ®å…±äº«çš„é—®é¢˜ï¼Œä½†å®ƒä»¬æœ€æœ¬è´¨çš„èƒ½åŠ›è¿˜æ˜¯å¯¹æ•°æ®çš„æ“ä½œã€‚å®ƒä»¬è¢«ç§°åšä¹Ÿç¡®å®åº”è¯¥è¢«ç§°åš"çŠ¶æ€ç®¡ç†"å·¥å…·ã€‚

è€Œ Hox æƒ³è§£å†³çš„é—®é¢˜ï¼Œä¸æ˜¯å¦‚ä½•ç»„ç»‡å’Œæ“ä½œæ•°æ®ï¼Œä¸æ˜¯æ•°æ®æµçš„åˆ†å±‚ã€å¼‚æ­¥ã€ç»†ç²’åº¦ï¼Œæˆ‘ä»¬å¸Œæœ› Hox åªèšç„¦äºä¸€ä¸ªç—›ç‚¹ï¼šåœ¨å¤šä¸ªç»„ä»¶é—´å…±äº«çŠ¶æ€ã€‚

å¦‚æœä½ ä¹Ÿæ„è¯†åˆ°äº†ï¼Œå±‚å±‚ä¼ é€’çš„ value onChange ä¼šå¯¹ä¸€ä¸ªä¼˜è´¨ä»£ç åº“å¸¦æ¥çš„æ¯ç­æ€§å½±å“ï¼Œç²—æš´åœ°æŠŠæ•°æ®å¡åœ¨ redux ä¸­ä¹Ÿå¹¶ä¸èƒ½è®©ä¸€ä¸ªåº”ç”¨å¾—åˆ°å¾ˆå¥½çš„æ‹“å±•æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œé‚£ä¹ˆ Hox æˆ–è®¸ä¼šæ˜¯ä¸€ä¸ªé€‚åˆä½ çš„"çŠ¶æ€å…±äº«"æ–¹æ¡ˆï¼Œå®ƒç®€å•ã€è½»é‡ã€å¯é ï¼Œé€‚åˆæ— è®ºå¤§å°çš„å‡ ä¹æ‰€æœ‰é¡¹ç›®ã€‚

### ä¼˜åŠ¿

- ç›´æ¥å¤ç”¨å·²æœ‰çš„ React çŸ¥è¯†ï¼Œå‡ ä¹æ²¡æœ‰å­¦ä¹ æˆæœ¬ï¼Œä½ æ€ä¹ˆå†™ React ç»„ä»¶ï¼Œå°±å¯ä»¥æ€ä¹ˆå†™ Store
- ä¸ºçµæ´»é‡æ„è€Œè®¾è®¡ï¼Œåœ¨ Store å’Œç»„ä»¶ä¸­ä½¿ç”¨åŒä¸€å¥— DSL å¯ä»¥è®©ä½ å‡ ä¹ 0 æˆæœ¬çš„å°†ç»„ä»¶çš„å±€éƒ¨çŠ¶æ€è½¬åŒ–ä¸ºä¸€ä¸ªç»„ä»¶é—´å…±äº«çš„çŠ¶æ€
- åŒæ—¶æ”¯æŒå±€éƒ¨çŠ¶æ€å’Œå…¨å±€çŠ¶æ€ï¼Œåœ¨çµæ´»å’Œç®€å•ä¹‹é—´åšåˆ°äº†å¾ˆå¥½çš„å¹³è¡¡
- ä¼˜ç§€çš„æ€§èƒ½å’Œ TypeScript æ”¯æŒ

# æ€»ç»“

ç®€å•åœºæ™¯ä½¿ç”¨åŸç”Ÿçš„useStateã€useReducerã€useContextå°±èƒ½æ»¡è¶³ï¼›è¿˜å¯ä»¥ç”¨ [Hox](https://link.juejin.cn/?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fhox "https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fhox")è¿™æ ·å°è€Œç¾çš„åº“å°†hookçš„çŠ¶æ€ç›´æ¥æ‹“å±•æˆæŒä¹…åŒ–çŠ¶æ€ï¼Œå‡ ä¹æ²¡æœ‰é¢å¤–çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚

å¤æ‚åœºæ™¯çš„åº”ç”¨ï¼Œreduxã€mobxéƒ½æ˜¯ç»å—è¿‡åƒé”¤ç™¾ç‚¼çš„åº“ï¼Œç¤¾åŒºç”Ÿæ€ä¹Ÿå¾ˆå®Œå¤‡ã€‚

Reduxé«˜åº¦æ¨¡æ¿åŒ–ã€åˆ†å±‚åŒ–ï¼ŒèŒè´£åˆ’åˆ†æ¸…æ™°ï¼Œå¡‘é€ äº†å…¶çŠ¶æ€åœ¨å¯å›æº¯ã€å¯ç»´æŠ¤æ€§æ–¹é¢çš„ä¼˜åŠ¿ï¼›æ­é…thunkã€sagaè¿™äº›ä¸­é—´ä»¶å‡ ä¹æ˜¯æ— æ‰€ä¸èƒ½ã€‚

Mobxçš„ä¼˜åŠ¿æ˜¯å†™æ³•ç®€å•å’Œé«˜æ€§èƒ½ï¼Œä½†çŠ¶æ€çš„å¯ç»´æŠ¤æ€§ä¸å¦‚reduxï¼Œåœ¨å¹¶å‘æ¨¡å¼ä¸­çš„å…¼å®¹æ€§ä¹Ÿæœ‰å¾…è§‚å¯Ÿã€‚

éšç€hookå’Œæœ‰å®˜æ–¹èƒŒæ™¯çš„recoilçš„å‡ºç°ï¼ŒçŠ¶æ€ç®¡ç†ä¼¼ä¹åœ¨æœåŸå­åŒ–ã€ç»„ä»¶åŒ–çš„æ–¹å‘å‘å±•ï¼Œè¿™ä¹Ÿç¬¦åˆreactçš„ç»„ä»¶åŒ–å“²å­¦ã€‚Reduxçš„æš´åŠ›éå†å’Œåˆ†å‘æˆ–è®¸å·²ç»æ˜¯é€†æ½®æµçš„è§£æ³•ã€‚

æ²¡æœ‰æœ€å¥½çš„çŠ¶æ€ç®¡ç†åº“ï¼Œåªæœ‰æœ€åˆé€‚çš„çŠ¶æ€ç®¡ç†åº“ã€‚

è¯¦ç»†çŠ¶æ€åº“èƒ½åŠ›å¯¹ç…§è¡¨ï¼š

|                           | Class æ—¶ä»£                                                   | Hooks æ—¶ä»£                                                   |                                                              |                                                              |                                                              |                                                              |                                                              |                                                              |                                                              |
| ------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
|                           | ä¼ ç»Ÿæµæ´¾                                                     | å“åº”å¼æµæ´¾                                                   | åŸå­çŠ¶æ€æµæ´¾                                                 | ä¼ ç»Ÿæµæ´¾                                                     | å“åº”å¼æµæ´¾                                                   | åŸå­çŠ¶æ€æµæ´¾                                                 |                                                              |                                                              |                                                              |
|                           | [redux](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Freduxjs%2Fredux "https://github.com/reduxjs/redux") | [dvajs](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fdvajs%2Fdva "https://github.com/dvajs/dva") | [icestoreï¼ˆiceå†…ç½®ï¼‰](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fice-lab%2Ficestore "https://github.com/ice-lab/icestore") | [mobx](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fmobxjs%2Fmobx "https://github.com/mobxjs/mobx") | [recoil](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Ffacebookexperimental%2FRecoil "https://github.com/facebookexperimental/Recoil") | [zustand](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fpmndrs%2Fzustand "https://github.com/pmndrs/zustand") | [Valtio](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fpmndrs%2Fvaltio "https://github.com/pmndrs/valtio") | [Jotai](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fpmndrs%2Fjotai "https://github.com/pmndrs/jotai") | [hox](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fumijs%2Fhox "https://github.com/umijs/hox") |
| STARæ•°                    | 59k                                                          | 16.1k                                                        | 387                                                          | 26k                                                          | 18.1k                                                        | 24.5k                                                        | 5.9k                                                         | 11.3k                                                        | 1.3k                                                         |
| è¯ç”Ÿæ—¶é—´                  | 2011                                                         | 2016.12                                                      | 2019.3                                                       | 2015.3                                                       | 2019                                                         | 2018                                                         | 2020.11                                                      | 2020.3                                                       | 2019.1                                                       |
| ç‰¹æ€§                      | å…¨å±€ä¸€æ£µçŠ¶æ€æ ‘ï¼Œåˆ©ç”¨contextï¼Œé€šè¿‡action è§¦å‘å˜åŠ¨ï¼Œreducerçº¯å‡½æ•°ä¿®æ”¹storeï¼Œæœ€åå¯¼è‡´props å˜åŠ¨ï¼Œè¿›è€Œç»„ä»¶é‡æ–°æ¸²æŸ“ | æ·±åº¦æ•´åˆ reduxã€redux-sagaï¼Œä¾¿äº redux ç”¨æˆ·å¿«é€Ÿåˆ‡æ¢          | ç±» dvajsï¼Œåˆ›é€  icestore çš„çµæ„Ÿæ¥è‡ªäº rematch å’Œ constateã€‚   | åŸºäºES6 proxy ï¼Œä½¿ç”¨è§‚å¯Ÿè€…/å¯è§‚å¯Ÿæ¨¡å¼çš„ï¼Œå½“ä½ ä¿®æ”¹ä¸€ä¸ªå€¼æ—¶ï¼Œä»»ä½•ä½¿ç”¨è¯¥å€¼çš„ç»„ä»¶éƒ½ä¼šè‡ªåŠ¨é‡æ–°æ¸²æŸ“ã€‚ | åŸå­åŒ–ç®¡ç†çŠ¶æ€ï¼Œè¿›è¡Œç²¾ç¡®æ¸²æŸ“ã€‚ä½¿ç”¨ Recoil ä¼šä¸ºä½ åˆ›å»ºä¸€ä¸ªæ•°æ®æµå‘å›¾ï¼Œä» atomï¼ˆå…±äº«çŠ¶æ€ï¼‰åˆ° selectorï¼ˆçº¯å‡½æ•°ï¼‰ï¼Œå†æµå‘ React ç»„ä»¶ã€‚Atom æ˜¯ç»„ä»¶å¯ä»¥è®¢é˜…çš„ state å•ä½ã€‚selector å¯ä»¥åŒæ­¥æˆ–å¼‚æ­¥æ”¹å˜æ­¤ stateã€‚ | åŸºäºè§‚å¯Ÿè€…/å¯è§‚å¯Ÿæ¨¡å¼ï¼Œå†…éƒ¨å¯¹é€šè¿‡ state ç»‘å®šçš„ç»„ä»¶ï¼Œæ·»åŠ åˆ°äº†è®¢é˜…è€…é˜Ÿåˆ—ï¼Œstoreä¸­çš„å±æ€§ç›¸å½“äºä¸€ä¸ªè¢«è§‚å¯Ÿè€…ï¼Œå½“å±æ€§çŠ¶æ€å˜æ›´åï¼Œé€šçŸ¥æ‰€æœ‰è®¢é˜…äº†è¯¥æ•°å±æ€§çš„ç»„ä»¶è¿›è¡Œæ›´æ–° | åˆ©ç”¨ Proxy è‡ªåŠ¨è¿›è¡Œé‡æ–°æ¸²æŸ“ä¼˜åŒ–ï¼Œè¿™ä¸ªè¿‡ç¨‹ä½¿ç”¨äº†çŠ¶æ€ä½¿ç”¨è·Ÿè¸ªæŠ€æœ¯ã€‚é€šè¿‡çŠ¶æ€ä½¿ç”¨è·Ÿè¸ªï¼Œå¯ä»¥æ£€æµ‹åˆ°çŠ¶æ€çš„å“ªéƒ¨åˆ†è¢«ä½¿ç”¨ï¼Œè®©ç»„ä»¶å®ç°æŒ‰ä½¿ç”¨é‡æ–°æ¸²æŸ“ã€‚åŒæ—¶ï¼Œå¼€å‘è€…ä¹Ÿå¯ä»¥ç¼–å†™æ›´å°‘çš„ä»£ç ã€‚ | jotai æ˜¯ä¸€ä¸ªå°å‹å…¨å±€çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒæ¨¡ä»¿äº† useStateã€useReducerã€‚jotai æœ‰ä¸ªå«åš atom çš„æ¦‚å¿µï¼Œç”¨äºè¡¨ç¤ºå°çš„çŠ¶æ€ç‰‡æ®µã€‚å’Œ zustand ä¸åŒçš„æ˜¯ï¼Œä»–æ˜¯ä¸€ä¸ªç»„ä»¶çº§åˆ«çš„çŠ¶æ€ç®¡ç†åº“ã€‚å’Œ zustand ç›¸åŒçš„æ˜¯åŒæ ·éƒ½åŸºäºä¸å¯å˜çŠ¶æ€æ¨¡å‹ã€‚ | ç±»ä¼¼äºè‡ªå®šä¹‰hookï¼Œåˆ©ç”¨useState èƒ½åŠ›ï¼ŒstateçŠ¶æ€å˜åŒ–è§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ |
| å­¦ä¹ æˆæœ¬                  | å¾ˆé«˜                                                         | ä½                                                           | ä½                                                           | ä¸­                                                           | ä½                                                           | ä½                                                           | ä½                                                           | ä½                                                           | ä½                                                           |
| ä½¿ç”¨æˆæœ¬                  | å¾ˆé«˜ï¼Œæ¨¡æ¿ä»£ç å¤š                                             | ä½ï¼Œä»…æœ‰6ä¸ªAPI                                               | ä½                                                           | ä¸­                                                           | ä½                                                           | ä½                                                           | ä½                                                           | ä½                                                           | ä½                                                           |
| Typescriptå‹å¥½            | å‹å¥½                                                         | ä¸å‹å¥½ï¼Œæ²¡æœ‰æ¸…æ™°çš„ä¾èµ–å…³ç³»ï¼Œç±»å‹æ”¯æŒå¾ˆå·®                     | å‹å¥½                                                         | å‹å¥½                                                         | å‹å¥½                                                         | å‹å¥½                                                         | å‹å¥½                                                         | å‹å¥½                                                         | å‹å¥½                                                         |
| çŠ¶æ€æ‹†åˆ†                  | react/toolkit createSlice                                    | æ”¯æŒ                                                         | æ”¯æŒ                                                         | æ”¯æŒ                                                         | æ”¯æŒ                                                         | æ”¯æŒ                                                         | æ”¯æŒ                                                         | æ”¯æŒ                                                         | æ”¯æŒ                                                         |
| æ€§èƒ½                      | ä¸­ç­‰                                                         | ä¸­ç­‰                                                         | ä¸­ç­‰                                                         | å¥½                                                           | å¥½                                                           | ä¸­ç­‰                                                         | å¥½                                                           | å¥½                                                           | å¥½                                                           |
| å¼‚æ­¥æ”¯æŒ                  | ä¸å‹å¥½                                                       | å‹å¥½                                                         | å‹å¥½                                                         | å‹å¥½                                                         | å‹å¥½                                                         | å‹å¥½                                                         | å‹å¥½                                                         | å‹å¥½                                                         | å‹å¥½                                                         |
| React concurrent æ¨¡å¼æ”¯æŒ | æ”¯æŒ                                                         |                                                              | æ”¯æŒ                                                         | æ”¯æŒ                                                         | æ”¯æŒ                                                         | æ”¯æŒ                                                         | æ”¯æŒ                                                         | æ”¯æŒ                                                         |                                                              |
| æ˜“äºè°ƒè¯•                  | æ˜¯                                                           | æ˜¯                                                           | æ˜¯                                                           | å¦                                                           | æ˜¯                                                           | æ˜¯                                                           | å¦                                                           | æ˜¯                                                           |                                                              |
| devtools                  | æœ‰                                                           | æœ‰                                                           | æœ‰                                                           | æ—                                                            | æ—                                                            | æœ‰                                                           | æ—                                                            | æ—                                                            | æ—                                                            |
| SSR                       | æ”¯æŒ                                                         |                                                              | æ”¯æŒ                                                         | æ”¯æŒ                                                         | æ”¯æŒï¼Œä½†å¯èƒ½ä¸å¥å…¨                                           | æ”¯æŒï¼Œä½†å¯èƒ½ä¸å¥å…¨                                           | æ”¯æŒï¼Œä½†å¯èƒ½ä¸å¥å…¨                                           | æ”¯æŒï¼Œä½†å¯èƒ½ä¸å¥å…¨                                           | ä¸æ”¯æŒ                                                       |

# å‚è€ƒèµ„æ–™

- [Do React Hooks Replace Redux?](https://link.juejin.cn/?target=https%3A%2F%2Fmedium.com%2Fjavascript-scene%2Fdo-react-hooks-replace-redux-210bab340672 "https://medium.com/javascript-scene/do-react-hooks-replace-redux-210bab340672")
- [React çŠ¶æ€ç®¡ç†å·¥å…·ï¼šæˆ‘æ˜¯è¿™æ ·é€‰æ‹©çš„](https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.aliyun.com%2Farticle%2F1044636 "https://developer.aliyun.com/article/1044636")
- [You Might Not Need Redux](https://link.juejin.cn/?target=https%3A%2F%2Fmedium.com%2F%40dan_abramov%2Fyou-might-not-need-redux-be46360cf367 "https://medium.com/@dan_abramov/you-might-not-need-redux-be46360cf367")
- [å„æµæ´¾ React çŠ¶æ€ç®¡ç†å¯¹æ¯”å’ŒåŸç†å®ç°](https://link.juejin.cn/?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F394106764 "https://zhuanlan.zhihu.com/p/394106764")
- [ç›˜ç‚¹Reactå¸¸è§çš„çŠ¶æ€ç®¡ç†æ–¹å¼](https://juejin.cn/post/7106312479185043463 "https://juejin.cn/post/7106312479185043463")
- [2022 å¹´ï¼Œæˆ‘ä»¬å†æ¥è°ˆè°ˆ React çŠ¶æ€ç®¡ç†](https://juejin.cn/post/7063054916234772517 "https://juejin.cn/post/7063054916234772517")
- [DvaJS](https://link.juejin.cn/?target=https%3A%2F%2Fdvajs.com%2F "https://dvajs.com/")
- [æ”¯ä»˜å®å‰ç«¯åº”ç”¨æ¶æ„çš„å‘å±•å’Œé€‰æ‹©](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fsorrycc%2Fblog%2Fissues%2F6 "https://github.com/sorrycc/blog/issues/6")
- [HoxJS](https://link.juejin.cn/?target=https%3A%2F%2Fhox.js.org%2Fzh%2F "https://hox.js.org/zh/")
- [Redux vs Zustand](https://link.juejin.cn/?target=https%3A%2F%2Fstackshare.io%2Fstackups%2Freduxjs-vs-zustand "https://stackshare.io/stackups/reduxjs-vs-zustand")
- [React çŠ¶æ€ç®¡ç†æ–°æµªæ½®](https://link.juejin.cn/?target=https%3A%2F%2Fmaimai.cn%2Farticle%2Fdetail%3Ffid%3D1751803241%26efid%3Di0f7DoHdYDIBq6kGhnbyMg "https://maimai.cn/article/detail?fid=1751803241&efid=i0f7DoHdYDIBq6kGhnbyMg")
- [React-å…¨å±€çŠ¶æ€ç®¡ç†çš„ç¾¤é­”ä¹±èˆ](https://link.juejin.cn/?target=https%3A%2F%2Fmdnice.com%2Fwriting%2F43163f11504d4938897e0975a18c75b8 "https://mdnice.com/writing/43163f11504d4938897e0975a18c75b8")
- [å„æµæ´¾ React çŠ¶æ€ç®¡ç†å¯¹æ¯”å’ŒåŸç†å®ç° - mdnice å¢¨æ»´](https://link.juejin.cn/?target=https%3A%2F%2Fmdnice.com%2Fwriting%2F123bc03401d44b22ade8f0bbce7638f6%23writing-title "https://mdnice.com/writing/123bc03401d44b22ade8f0bbce7638f6#writing-title")
- [è‡ªè¿° Â· Redux](https://link.juejin.cn/?target=https%3A%2F%2Fwww.redux.org.cn%2F "https://www.redux.org.cn/")
- [Recoil - Facebook å®˜æ–¹ React çŠ¶æ€ç®¡ç†å™¨](https://link.juejin.cn/?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F141576138 "https://zhuanlan.zhihu.com/p/141576138")
- [\[è¯‘\] React çŠ¶æ€ç®¡ç†çš„å‰ä¸–ï¼Œä»Šç”Ÿå’Œæœªæ¥ - å¼€å‘è€…å¤´æ¡](https://link.juejin.cn/?target=https%3A%2F%2Ftoutiao.io%2Fposts%2Fttvrzlk%2Fpreview "https://toutiao.io/posts/ttvrzlk/preview")
- [2021å¹´çš„ReactçŠ¶æ€ç®¡ç† - æ˜é‡‘](https://juejin.cn/post/7026232873233416223 "https://juejin.cn/post/7026232873233416223")
- [çŠ¶æ€ç®¡ç†æ–¹æ¡ˆå‘å±•æ¦‚è§ˆ](https://link.juejin.cn/?target=https%3A%2F%2Fwww.sweetalkos.com%2Fpost%2F202 "https://www.sweetalkos.com/post/202")
- [State Management: Overview | React Common Tools and Practices](https://link.juejin.cn/?target=https%3A%2F%2Freact-community-tools-practices-cheatsheet.netlify.app%2Fstate-management%2Foverview "https://react-community-tools-practices-cheatsheet.netlify.app/state-management/overview")
- [Blogged Answers: Why React Context is Not a â€œState Managementâ€ Tool (and Why It Doesnâ€™t Replace Redux)](https://link.juejin.cn/?target=https%3A%2F%2Fblog.isquaredsoftware.com%2F2021%2F01%2Fcontext-redux-differences%2F "https://blog.isquaredsoftware.com/2021/01/context-redux-differences/")
- [zustand vs redux](https://link.juejin.cn/?target=https%3A%2F%2Fdocs.pmnd.rs%2Fzustand%2Fgetting-started%2Fcomparison%23redux "https://docs.pmnd.rs/zustand/getting-started/comparison#redux")
- [hox - ä¸‹ä¸€ä»£ React çŠ¶æ€ç®¡ç†å™¨](https://link.juejin.cn/?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F88738712 "https://zhuanlan.zhihu.com/p/88738712")
- [MobX vs Redux: Evaluating Two Popular Libraries For State Management | SPEC INDIA](https://link.juejin.cn/?target=https%3A%2F%2Fwww.spec-india.com%2Fblog%2Fmobx-vs-redux "https://www.spec-india.com/blog/mobx-vs-redux")
- [React çŠ¶æ€ç®¡ç†çš„æ–°æµªæ½®](https://link.juejin.cn/?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F6Er2IQEXXNc8Sb5vVJZZOQ "https://mp.weixin.qq.com/s/6Er2IQEXXNc8Sb5vVJZZOQ")
- [Redux çš„æ€§èƒ½é—®é¢˜](https://link.juejin.cn/?target=https%3A%2F%2Fwww.redux.org.cn%2Fdocs%2Ffaq%2FPerformance.html "https://www.redux.org.cn/docs/faq/Performance.html")
- [mobx vs redux](https://link.juejin.cn/?target=https%3A%2F%2Fwww.spec-india.com%2Fblog%2Fmobx-vs-redux "https://www.spec-india.com/blog/mobx-vs-redux")
- [zustand vs jotai vs valtio](https://link.juejin.cn/?target=https%3A%2F%2Freact-community-tools-practices-cheatsheet.netlify.app%2Fstate-management%2Fpoimandres%2F "https://react-community-tools-practices-cheatsheet.netlify.app/state-management/poimandres/")
